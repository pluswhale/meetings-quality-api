# Meetings Quality API

Backend API –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –≤—Å—Ç—Ä–µ—á.

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **NestJS** - –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π Node.js —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **MongoDB** - NoSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (MongoDB Atlas)
- **Mongoose** - ODM –¥–ª—è MongoDB
- **JWT** - –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- **Socket.io** - WebSocket –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **class-validator** - –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∑–∞—â–∏—Ç—ã API

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å—Ç—Ä–µ—á–∞–º–∏
- –°–æ–∑–¥–∞–Ω–∏–µ –≤—Å—Ç—Ä–µ—á —Å –≤–æ–ø—Ä–æ—Å–∞–º–∏
- –¢—Ä–∏ —Ñ–∞–∑—ã –≤—Å—Ç—Ä–µ—á–∏: –û–±—Å—É–∂–¥–µ–Ω–∏–µ ‚Üí –û—Ü–µ–Ω–∫–∞ ‚Üí –†–µ–∑—é–º–µ
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ñ–∞–∑ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (WebSocket)
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

### –§–∞–∑–∞ –æ—Ü–µ–Ω–∫–∏
- –°–∞–º–æ–æ—Ü–µ–Ω–∫–∞ –ø–æ–Ω–∏–º–∞–Ω–∏—è (0-100)
- –û—Ü–µ–Ω–∫–∞ –≤–ª–∏—è–Ω–∏—è –¥—Ä—É–≥–∏—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (–≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö)
- –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (—à–∫–∞–ª–∞ -100 –¥–æ 100)
- –û—Ç–º–µ—Ç–∫–∞ —Ç–æ–∫—Å–∏—á–Ω–æ—Å—Ç–∏ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

### –§–∞–∑–∞ —Ä–µ–∑—é–º–µ
- –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞—á –∏–∑ –≤—Å—Ç—Ä–µ—á–∏
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–µ–¥–ª–∞–π–Ω–æ–≤
- –û—Ü–µ–Ω–∫–∞ –≤–∞–∂–Ω–æ—Å—Ç–∏ —Å–≤–æ–µ–≥–æ –≤–∫–ª–∞–¥–∞

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–≤–æ–∏—Ö –∑–∞–¥–∞—á
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è: —Ç–µ–∫—É—â–∏–µ/–ø—Ä–æ—à–ª—ã–µ

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞ –ø–æ–Ω–∏–º–∞–Ω–∏—è
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞–∂–¥–æ–º—É —É—á–∞—Å—Ç–Ω–∏–∫—É
- –≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –æ—Ü–µ–Ω–∫–∏
- –§–ª–∞–≥–∏ —Ç–æ–∫—Å–∏—á–Ω–æ—Å—Ç–∏

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js (v16 –∏–ª–∏ –≤—ã—à–µ)
- npm –∏–ª–∏ yarn
- MongoDB Atlas –∞–∫–∫–∞—É–Ω—Ç

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ MongoDB Atlas

1. –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –Ω–∞ [MongoDB Atlas](https://www.mongodb.com/cloud/atlas)
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–ª–∞—Å—Ç–µ—Ä (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π M0 tier –ø–æ–¥–æ–π–¥–µ—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
3. –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:
   - Database Access ‚Üí Add New Database User
   - –í—ã–±–µ—Ä–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–∞—Ä–æ–ª—å
4. –†–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø —Å –≤–∞—à–µ–≥–æ IP:
   - Network Access ‚Üí Add IP Address
   - –î–æ–±–∞–≤—å—Ç–µ —Ç–µ–∫—É—â–∏–π IP –∏–ª–∏ 0.0.0.0/0 (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
5. –ü–æ–ª—É—á–∏—Ç–µ —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
   - –ù–∞–∂–º–∏—Ç–µ "Connect" –Ω–∞ –≤–∞—à–µ–º –∫–ª–∞—Å—Ç–µ—Ä–µ
   - –í—ã–±–µ—Ä–∏—Ç–µ "Connect your application"
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ connection string

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```bash
cp .env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` —Ñ–∞–π–ª:

```env
# MongoDB Atlas connection string
MONGODB_URI=mongodb+srv://your-username:your-password@cluster0.xxxxx.mongodb.net/meetings-quality?retryWrites=true&w=majority

# JWT —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–π —Å–ª—É—á–∞–π–Ω—ã–π –∫–ª—é—á)
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è JWT —Ç–æ–∫–µ–Ω–∞
JWT_EXPIRATION=7d

# –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞
PORT=3000

# –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã
NODE_ENV=development

# URL —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –¥–ª—è CORS
FRONTEND_URL=http://localhost:5173
```

**–í–∞–∂–Ω–æ:** –ó–∞–º–µ–Ω–∏—Ç–µ `your-username`, `your-password` –∏ `cluster0.xxxxx` –Ω–∞ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –∏–∑ MongoDB Atlas.

### –®–∞–≥ 4: –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

–†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (—Å –∞–≤—Ç–æ–ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–æ–π):
```bash
npm run start:dev
```

–†–µ–∂–∏–º –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
```bash
npm run build
npm run start:prod
```

–°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ `http://localhost:3000`

### –®–∞–≥ 5: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ `prisma generate`, —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é:

```bash
npm run openapi:generate
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª `generated/openapi.json` –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ —Å Orval.

**üìö –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** –°–º. [OPENAPI_GENERATE.md](OPENAPI_GENERATE.md)

### –®–∞–≥ 6: –î–æ—Å—Ç—É–ø –∫ Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞, –æ—Ç–∫—Ä–æ–π—Ç–µ Swagger UI:

```
http://localhost:3002/api
```

OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è (JSON) —á–µ—Ä–µ–∑ HTTP:
```
http://localhost:3002/api-json
```

## –ì–µ–Ω–µ—Ä–∞—Ü–∏—è API –∫–ª–∏–µ–Ω—Ç–∞ –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

### –ü–æ–¥—Ö–æ–¥ 1: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è, –∫–∞–∫ Prisma)

1. **–ù–∞ backend:** –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é
   ```bash
   npm run openapi:generate
   ```

2. **–ù–∞ frontend:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –≤ `orval.config.ts`
   ```typescript
   input: {
     target: '../meetings-quality-api/generated/openapi.json'
   }
   ```

3. **–ì–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ API –∫–ª–∏–µ–Ω—Ç:**
   ```bash
   npx orval
   ```

üìö **–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** –°–º. [OPENAPI_GENERATE.md](OPENAPI_GENERATE.md)

### –ü–æ–¥—Ö–æ–¥ 2: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑ –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ API

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTP URL –≤ `orval.config.ts`:
```typescript
input: {
  target: 'http://localhost:3002/api-json'
}
```

üìö **–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏:** –°–º. [SWAGGER.md](SWAGGER.md)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
src/
‚îú‚îÄ‚îÄ auth/                      # –ú–æ–¥—É–ª—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ decorators/           # –î–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã (CurrentUser)
‚îÇ   ‚îú‚îÄ‚îÄ dto/                  # DTO –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ guards/               # Guards (JwtAuthGuard)
‚îÇ   ‚îú‚îÄ‚îÄ strategies/           # Passport —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ (JWT)
‚îÇ   ‚îú‚îÄ‚îÄ auth.controller.ts
‚îÇ   ‚îú‚îÄ‚îÄ auth.service.ts
‚îÇ   ‚îî‚îÄ‚îÄ auth.module.ts
‚îú‚îÄ‚îÄ users/                     # –ú–æ–¥—É–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ dto/                  # DTO –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ schemas/              # Mongoose —Å—Ö–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ users.controller.ts
‚îÇ   ‚îú‚îÄ‚îÄ users.service.ts
‚îÇ   ‚îî‚îÄ‚îÄ users.module.ts
‚îú‚îÄ‚îÄ meetings/                  # –ú–æ–¥—É–ª—å –≤—Å—Ç—Ä–µ—á
‚îÇ   ‚îú‚îÄ‚îÄ dto/                  # DTO –≤—Å—Ç—Ä–µ—á
‚îÇ   ‚îú‚îÄ‚îÄ schemas/              # Mongoose —Å—Ö–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ meetings.controller.ts
‚îÇ   ‚îú‚îÄ‚îÄ meetings.service.ts
‚îÇ   ‚îú‚îÄ‚îÄ meetings.gateway.ts   # WebSocket gateway
‚îÇ   ‚îî‚îÄ‚îÄ meetings.module.ts
‚îú‚îÄ‚îÄ tasks/                     # –ú–æ–¥—É–ª—å –∑–∞–¥–∞—á
‚îÇ   ‚îú‚îÄ‚îÄ dto/                  # DTO –∑–∞–¥–∞—á
‚îÇ   ‚îú‚îÄ‚îÄ schemas/              # Mongoose —Å—Ö–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ tasks.controller.ts
‚îÇ   ‚îú‚îÄ‚îÄ tasks.service.ts
‚îÇ   ‚îî‚îÄ‚îÄ tasks.module.ts
‚îú‚îÄ‚îÄ app.module.ts              # –ì–ª–∞–≤–Ω—ã–π –º–æ–¥—É–ª—å
‚îî‚îÄ‚îÄ main.ts                    # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
```

## API Endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

#### POST /auth/register
–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**Body:**
```json
{
  "fullName": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
  "email": "ivan@example.com",
  "password": "password123"
}
```

**Response:**
```json
{
  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "_id": "507f1f77bcf86cd799439011",
    "fullName": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "email": "ivan@example.com"
  }
}
```

#### POST /auth/login
–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É

**Body:**
```json
{
  "email": "ivan@example.com",
  "password": "password123"
}
```

**Response:** –¢–∞–∫–æ–π –∂–µ –∫–∞–∫ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

#### GET /auth/me
–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**Headers:**
```
Authorization: Bearer <token>
```

**Response:**
```json
{
  "user": {
    "userId": "507f1f77bcf86cd799439011",
    "email": "ivan@example.com",
    "fullName": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤"
  }
}
```

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

#### GET /users
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –≤—Å—Ç—Ä–µ—á—É)

**Headers:**
```
Authorization: Bearer <token>
```

**Response:**
```json
[
  {
    "_id": "507f1f77bcf86cd799439011",
    "fullName": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "email": "ivan@example.com"
  }
]
```

### –í—Å—Ç—Ä–µ—á–∏

#### POST /meetings
–°–æ–∑–¥–∞—Ç—å –≤—Å—Ç—Ä–µ—á—É

**Headers:**
```
Authorization: Bearer <token>
```

**Body:**
```json
{
  "title": "–û–±—Å—É–∂–¥–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞",
  "question": "–ö–∞–∫–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞?",
  "participantIds": ["507f1f77bcf86cd799439011", "507f1f77bcf86cd799439012"]
}
```

#### GET /meetings
–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –≤—Å—Ç—Ä–µ—á–∏ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `filter` - —Ñ–∏–ª—å—Ç—Ä: `current` (—Ç–µ–∫—É—â–∏–µ) –∏–ª–∏ `past` (–ø—Ä–æ—à–ª—ã–µ)

**Headers:**
```
Authorization: Bearer <token>
```

**Example:**
```
GET /meetings?filter=current
```

#### GET /meetings/:id
–ü–æ–ª—É—á–∏—Ç—å –≤—Å—Ç—Ä–µ—á—É –ø–æ ID

**Headers:**
```
Authorization: Bearer <token>
```

#### PATCH /meetings/:id
–û–±–Ω–æ–≤–∏—Ç—å –≤—Å—Ç—Ä–µ—á—É (—Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç–µ–ª—å)

**Headers:**
```
Authorization: Bearer <token>
```

**Body:**
```json
{
  "title": "–ù–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ",
  "question": "–ù–æ–≤—ã–π –≤–æ–ø—Ä–æ—Å",
  "participantIds": ["507f1f77bcf86cd799439011"]
}
```

#### DELETE /meetings/:id
–£–¥–∞–ª–∏—Ç—å –≤—Å—Ç—Ä–µ—á—É (—Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç–µ–ª—å)

**Headers:**
```
Authorization: Bearer <token>
```

#### PATCH /meetings/:id/phase
–ò–∑–º–µ–Ω–∏—Ç—å —Ñ–∞–∑—É –≤—Å—Ç—Ä–µ—á–∏ (—Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç–µ–ª—å)

**Headers:**
```
Authorization: Bearer <token>
```

**Body:**
```json
{
  "phase": "evaluation"
}
```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è phase:**
- `discussion` - –æ–±—Å—É–∂–¥–µ–Ω–∏–µ
- `evaluation` - –æ—Ü–µ–Ω–∫–∞
- `summary` - —Ä–µ–∑—é–º–µ
- `finished` - –∑–∞–≤–µ—Ä—à–µ–Ω–∞

#### POST /meetings/:id/evaluations
–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ü–µ–Ω–∫—É (—Ç–æ–ª—å–∫–æ –≤ —Ñ–∞–∑–µ evaluation)

**Headers:**
```
Authorization: Bearer <token>
```

**Body:**
```json
{
  "understandingScore": 85,
  "influences": [
    {
      "participantId": "507f1f77bcf86cd799439012",
      "influencePercentage": 60
    },
    {
      "participantId": "507f1f77bcf86cd799439013",
      "influencePercentage": 40
    }
  ],
  "emotionalEvaluations": [
    {
      "targetParticipantId": "507f1f77bcf86cd799439012",
      "emotionalScale": 80,
      "isToxic": false
    },
    {
      "targetParticipantId": "507f1f77bcf86cd799439013",
      "emotionalScale": -20,
      "isToxic": true
    }
  ]
}
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:**
- `understandingScore`: 0-100
- `influencePercentage`: 0-100
- `emotionalScale`: -100 (negative) –¥–æ 100 (positive)
- –°—É–º–º–∞ `influencePercentage` –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å 100%

#### POST /meetings/:id/summaries
–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–µ–∑—é–º–µ (—Ç–æ–ª—å–∫–æ –≤ —Ñ–∞–∑–µ summary)

**Headers:**
```
Authorization: Bearer <token>
```

**Body:**
```json
{
  "taskDescription": "–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π",
  "deadline": "2026-02-01T00:00:00.000Z",
  "contributionImportance": 90
}
```

#### GET /meetings/:id/statistics
–ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤—Å—Ç—Ä–µ—á–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –≤—Å—Ç—Ä–µ—á)

**Headers:**
```
Authorization: Bearer <token>
```

**Response:**
```json
{
  "question": "–ö–∞–∫–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?",
  "averageUnderstanding": 82.5,
  "participantStats": [
    {
      "participant": {
        "_id": "507f1f77bcf86cd799439011",
        "fullName": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
        "email": "ivan@example.com"
      },
      "understandingScore": 85,
      "averageEmotionalScale": 60,
      "toxicityFlags": 0
    }
  ]
}
```

### –ó–∞–¥–∞—á–∏

#### POST /tasks
–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É

**Headers:**
```
Authorization: Bearer <token>
```

**Body:**
```json
{
  "description": "–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é",
  "meetingId": "507f1f77bcf86cd799439020",
  "deadline": "2026-02-01T00:00:00.000Z",
  "contributionImportance": 90
}
```

#### GET /tasks
–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–¥–∞—á–∏ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `filter` - —Ñ–∏–ª—å—Ç—Ä: `current` (–∞–∫—Ç–∏–≤–Ω—ã–µ) –∏–ª–∏ `past` (–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ)

**Headers:**
```
Authorization: Bearer <token>
```

#### GET /tasks/meeting/:meetingId
–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–¥–∞—á–∏ –∏–∑ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤—Å—Ç—Ä–µ—á–∏

**Headers:**
```
Authorization: Bearer <token>
```

#### GET /tasks/:id
–ü–æ–ª—É—á–∏—Ç—å –∑–∞–¥–∞—á—É –ø–æ ID

**Headers:**
```
Authorization: Bearer <token>
```

#### PATCH /tasks/:id
–û–±–Ω–æ–≤–∏—Ç—å –∑–∞–¥–∞—á—É (—Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä)

**Headers:**
```
Authorization: Bearer <token>
```

**Body:**
```json
{
  "description": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ",
  "deadline": "2026-02-15T00:00:00.000Z",
  "contributionImportance": 95,
  "isCompleted": true
}
```

#### DELETE /tasks/:id
–£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É (—Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä)

**Headers:**
```
Authorization: Bearer <token>
```

## WebSocket Events

–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ WebSocket:
```javascript
import io from 'socket.io-client';

const socket = io('http://localhost:3000', {
  transports: ['websocket'],
});
```

### –°–æ–±—ã—Ç–∏—è –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞

#### joinMeeting
–ü—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è –∫ –∫–æ–º–Ω–∞—Ç–µ –≤—Å—Ç—Ä–µ—á–∏ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

```javascript
socket.emit('joinMeeting', meetingId);
```

#### leaveMeeting
–ü–æ–∫–∏–Ω—É—Ç—å –∫–æ–º–Ω–∞—Ç—É –≤—Å—Ç—Ä–µ—á–∏

```javascript
socket.emit('leaveMeeting', meetingId);
```

### –°–æ–±—ã—Ç–∏—è –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞

#### phaseChanged
–§–∞–∑–∞ –≤—Å—Ç—Ä–µ—á–∏ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å

```javascript
socket.on('phaseChanged', (data) => {
  console.log(data);
  // {
  //   meetingId: "507f1f77bcf86cd799439020",
  //   phase: "evaluation",
  //   status: "active"
  // }
});
```

#### evaluationSubmitted
–£—á–∞—Å—Ç–Ω–∏–∫ –æ—Ç–ø—Ä–∞–≤–∏–ª –æ—Ü–µ–Ω–∫—É

```javascript
socket.on('evaluationSubmitted', (data) => {
  console.log(data);
});
```

#### summarySubmitted
–£—á–∞—Å—Ç–Ω–∏–∫ –æ—Ç–ø—Ä–∞–≤–∏–ª —Ä–µ–∑—é–º–µ

```javascript
socket.on('summarySubmitted', (data) => {
  console.log(data);
});
```

## –°—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö

### User
```typescript
{
  _id: ObjectId
  fullName: string
  email: string
  password: string (hashed)
  createdAt: Date
  updatedAt: Date
}
```

### Meeting
```typescript
{
  _id: ObjectId
  title: string
  question: string
  creatorId: ObjectId (ref: User)
  participantIds: ObjectId[] (ref: User)
  currentPhase: 'discussion' | 'evaluation' | 'summary' | 'finished'
  status: 'upcoming' | 'active' | 'finished'
  evaluations: Evaluation[]
  summaries: Summary[]
  createdAt: Date
  updatedAt: Date
}
```

### Evaluation
```typescript
{
  participantId: ObjectId (ref: User)
  understandingScore: number (0-100)
  influences: UnderstandingInfluence[]
  emotionalEvaluations: EmotionalEvaluation[]
  submittedAt: Date
}
```

### UnderstandingInfluence
```typescript
{
  participantId: ObjectId (ref: User)
  influencePercentage: number (0-100)
}
```

### EmotionalEvaluation
```typescript
{
  targetParticipantId: ObjectId (ref: User)
  emotionalScale: number (-100 to 100)
  isToxic: boolean
}
```

### Summary
```typescript
{
  participantId: ObjectId (ref: User)
  taskDescription: string
  deadline: Date
  contributionImportance: number (0-100)
  submittedAt: Date
}
```

### Task
```typescript
{
  _id: ObjectId
  description: string
  authorId: ObjectId (ref: User)
  meetingId: ObjectId (ref: Meeting)
  deadline: Date
  contributionImportance: number (0-100)
  isCompleted: boolean
  createdAt: Date
  updatedAt: Date
}
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ü–∞—Ä–æ–ª–∏ —Ö–µ—à–∏—Ä—É—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é bcrypt
- JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –ó–∞—â–∏—Ç–∞ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é Guards
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å class-validator
- CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

## –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```bash
npm run start:dev
```

### –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
```bash
npm run build
```

### –ó–∞–ø—É—Å–∫ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
```bash
npm run start:prod
```

### –õ–∏–Ω—Ç–∏–Ω–≥
```bash
npm run lint
```

### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
```bash
npm run format
```

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|-----------|----------|--------|
| MONGODB_URI | –°—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è MongoDB | mongodb+srv://user:pass@cluster.mongodb.net/dbname |
| JWT_SECRET | –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è JWT | your-secret-key |
| JWT_EXPIRATION | –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è JWT —Ç–æ–∫–µ–Ω–∞ | 7d |
| PORT | –ü–æ—Ä—Ç —Å–µ—Ä–≤–µ—Ä–∞ | 3000 |
| NODE_ENV | –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã | development / production |
| FRONTEND_URL | URL —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –¥–ª—è CORS | http://localhost:5173 |

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

### –ü–æ–ª–Ω—ã–π flow —Å–æ–∑–¥–∞–Ω–∏—è –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≤—Å—Ç—Ä–µ—á–∏

1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
```bash
curl -X POST http://localhost:3000/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "fullName": "–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤",
    "email": "ivan@example.com",
    "password": "password123"
  }'
```

2. **–°–æ–∑–¥–∞–Ω–∏–µ –≤—Å—Ç—Ä–µ—á–∏:**
```bash
curl -X POST http://localhost:3000/meetings \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{
    "title": "–û–±—Å—É–∂–¥–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞",
    "question": "–ö–∞–∫–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?",
    "participantIds": ["USER_ID_1", "USER_ID_2"]
  }'
```

3. **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤ —Ñ–∞–∑—É –æ—Ü–µ–Ω–∫–∏:**
```bash
curl -X PATCH http://localhost:3000/meetings/MEETING_ID/phase \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{
    "phase": "evaluation"
  }'
```

4. **–û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ü–µ–Ω–∫–∏:**
```bash
curl -X POST http://localhost:3000/meetings/MEETING_ID/evaluations \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{
    "understandingScore": 85,
    "influences": [
      {"participantId": "USER_ID_2", "influencePercentage": 100}
    ],
    "emotionalEvaluations": [
      {"targetParticipantId": "USER_ID_2", "emotionalScale": 80, "isToxic": false}
    ]
  }'
```

5. **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤ —Ñ–∞–∑—É —Ä–µ–∑—é–º–µ:**
```bash
curl -X PATCH http://localhost:3000/meetings/MEETING_ID/phase \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{
    "phase": "summary"
  }'
```

6. **–û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ–∑—é–º–µ:**
```bash
curl -X POST http://localhost:3000/meetings/MEETING_ID/summaries \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{
    "taskDescription": "–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é",
    "deadline": "2026-02-01T00:00:00.000Z",
    "contributionImportance": 90
  }'
```

7. **–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –≤—Å—Ç—Ä–µ—á–∏:**
```bash
curl -X PATCH http://localhost:3000/meetings/MEETING_ID/phase \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -d '{
    "phase": "finished"
  }'
```

8. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:**
```bash
curl http://localhost:3000/meetings/MEETING_ID/statistics \
  -H "Authorization: Bearer YOUR_TOKEN"
```

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `.env`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ MongoDB Atlas –¥–æ—Å—Ç—É–ø–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT
